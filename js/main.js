/** Geral JS */

/** Array de Objetos dos dados da aplicação - Geral */
const data_base = [
    {
        id: 1,
        artista: 'Verequete',
        imagem: 'verequete.jpg',
        musicas: [
            { 
                id: 1,
                titulo: 'Chama Verequete',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-10'
            },
            {
                id: 2,
                titulo: 'Sereia do mar',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-10'
            },
            {
                id: 3,
                titulo: 'O Carimbó não morreu',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-10'
            },
            {
                id: 4,
                titulo: 'Morena penteia o cabelo',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-10'
            },
            {
                id: 5,
                titulo: 'Eu vou só',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-10'
            },
            {
                id: 6,
                titulo: 'Ilha do Marajó',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-10'
            },
            {
                id: 7,
                titulo: 'Corre Garotinho',
                genero: '',
                tom: '',
                created_at: '2025-02-10'
            },
            {
                id: 8,
                titulo: 'Apresentando Belém do Pará',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-10'
            },
            {
                id: 9,
                titulo: 'O pescador',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-10'
            },
            {
                id: 10,
                titulo: 'Verequete da coluna',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-10'
            }
        ]
    },
    {
        id: 2,
        artista: 'Pinduca',
        imagem: 'pinduca.jpg',
        musicas: [
            { 
                id: 1,
                titulo: 'Carimbó do macaco',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-10'
            },
            { 
                id: 1,
                titulo: 'Carimbó do macaco',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-10'
            },
            { 
                id: 1,
                titulo: 'Sinhá Pureza',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-10'
            },
            { 
                id: 1,
                titulo: 'Dança do carimbó',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-10'
            },
            { 
                id: 1,
                titulo: 'Garota do tacacá',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-10'
            },
            { 
                id: 1,
                titulo: 'Quem Vai o Pará, Parou',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-10'
            }
        ]
    },
    {
        id: 3,
        artista: 'Dona Onete',
        imagem: 'dona-onete.jpg',
        musicas: [
            { 
                id: 1,
                titulo: 'No meio do pitiú',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-10'
            },
            { 
                id: 2,
                titulo: 'Carimbó chamegado',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-10'
            },
            { 
                id: 3,
                titulo: 'Jamburana',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-10'
            },
            { 
                id: 4,
                titulo: 'Mistura Pai D`égua',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-10'
            },
            { 
                id: 5,
                titulo: 'Moreno Morenado',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-10'
            }
        ]
    },
    {
        id: 4,
        artista: 'Mestre Lucindo',
        imagem: 'mestre-lucindo.jpg',
        musicas: [
            { 
                id: 1,
                titulo: 'Lua luar',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-10'
            },
            { 
                id: 2,
                titulo: 'Menina bonita',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-10'
            },
            { 
                id: 3,
                titulo: 'Fita verde',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-10'
            },
            { 
                id: 4,
                titulo: 'Pescador, pescador',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-10'
            },
            { 
                id: 5,
                titulo: 'Roda pião',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-10'
            }
        ]
    },
    {
        id: 5,
        artista: 'Muxinga',
        imagem: 'muxinga.jpg',
        musicas: [
            { 
                id: 1,
                titulo: 'Carimbolando com Juliana',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-21'
            },
            { 
                id: 2,
                titulo: 'Bela',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-21'
            },
            { 
                id: 3,
                titulo: 'Cheiro de Rosas',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-21'
            },
            { 
                id: 4,
                titulo: 'Minha Ilha',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-21'
            },
            { 
                id: 5,
                titulo: 'Cantando esse boi',
                genero: 'Boi bumbá',
                tom: '',
                created_at: '2025-02-21'
            },
            { 
                id: 6,
                titulo: 'Farra dos Boiadeiros',
                genero: 'Boi bumbá',
                tom: '',
                created_at: '2025-02-21'
            },
            { 
                id: 7,
                titulo: 'Toque de Mestre',
                genero: 'Boi bumbá',
                tom: '',
                created_at: '2025-02-21'
            }
        ]
    },
    {
        id: 6,
        artista: 'Canto Caboclo',
        imagem: 'canto-caboclo.jpg',
        musicas: [
            { 
                id: 1,
                titulo: 'Água no pote',
                genero: 'Merengue',
                tom: '',
                created_at: '2025-02-21'
            },
            { 
                id: 2,
                titulo: 'Amor de Tambor',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-21'
            },
            { 
                id: 3,
                titulo: 'Aninga',
                genero: 'Coco',
                tom: '',
                created_at: '2025-02-21'
            },
            { 
                id: 4,
                titulo: 'Batelo',
                genero: 'Marabaixo',
                tom: '',
                created_at: '2025-02-21'
            },
            { 
                id: 5,
                titulo: 'Banzeiro',
                genero: 'Ciranda',
                tom: '',
                created_at: '2025-02-21'
            },
            { 
                id: 6,
                titulo: 'Beata',
                genero: 'Boi bumbá',
                tom: '',
                created_at: '2025-02-21'
            },
            { 
                id: 7,
                titulo: 'Benzedeira',
                genero: 'Coco',
                tom: '',
                created_at: '2025-02-21'
            },
            { 
                id: 8,
                titulo: 'Cotijuba',
                genero: 'Cumbia',
                tom: '',
                created_at: '2025-02-21'
            },
            { 
                id: 9,
                titulo: 'Matinta',
                genero: 'Samba Reggae',
                tom: '',
                created_at: '2025-02-21'
            },
            { 
                id: 10,
                titulo: 'Tambor',
                genero: 'Marabaixo',
                tom: '',
                created_at: '2025-02-21'
            },
            { 
                id: 11,
                titulo: 'Utensílios caboclos',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-21'
            },
            { 
                id: 12,
                titulo: 'Tia Dilce',
                genero: 'Samba',
                tom: '',
                created_at: '2025-02-21'
            },
            { 
                id: 13,
                titulo: 'Vamos?',
                genero: 'Ijexá',
                tom: '',
                created_at: '2025-02-21'
            }
        ]
    },
    {
        id: 7,
        artista: 'Cuité Marambaia',
        imagem: 'cuite-marambaia.jpg',
        musicas: [
            { 
                id: 1,
                titulo: 'Urubú xique',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-21'
            },
            { 
                id: 2,
                titulo: 'Batuque da praça',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-21'
            },
            { 
                id: 3,
                titulo: 'Tubarão Vegano',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-21'
            },
            { 
                id: 4,
                titulo: 'Carimbó manifesto',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-21'
            }
        ]
    },
    {
        id: 8,
        artista: 'Lourival Igarapé',
        imagem: 'lourival-igarape.jpg',
        musicas: [
            { 
                id: 1,
                titulo: 'Queimadas',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-21'
            },
            { 
                id: 2,
                titulo: 'Chuva de sapos',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-21'
            },
            { 
                id: 3,
                titulo: 'Velório do carangueijo',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-21'
            },
            { 
                id: 4,
                titulo: 'Flores pra Yemanjá',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-21'
            },
            { 
                id: 5,
                titulo: 'Pajezinho',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-21'
            },
            { 
                id: 6,
                titulo: 'Primeiro vento',
                genero: 'Carimbó',
                tom: '',
                created_at: '2025-02-21'
            }
        ]
    }
];

const generos = [
    'Carimbó',
    'Boi bumbá',
    'Ijexá',
    'Merengue',
    'Cumbia',
    'Marabaixo',
    'Samba',
    'Samba Reggae',
    'Ciranda',
    'Coco'
];

function renderLinkArtistas(base, sub = '') {
    let listArtists = '';
    let dropWrapper = document.querySelector('#dropArtistas');
    base.forEach(el => {
        listArtists += `
        <li><a class="dropdown-item" href=".${sub}/${cleanSlug(el.artista)}.html">${el.artista}</a></li>
        `;
    });
    dropWrapper.innerHTML = listArtists;
}

function cleanSlug(str) {
    str = str.toLowerCase();
    str = str.normalize("NFD");
    str = str.replace(/[^a-zA-Z\s]/g, '');
    return str.replace(/ /g, '-');
}

function renderTotal (base, generos) {
    let totais = document.querySelector('#countTotal');
    let totalGeneros = generos.length;
    let totalArtistas = data_base.length;
    let totalMusicas = 0;
    base.forEach(el => {
        totalMusicas += el.musicas.length;
    });
    totais.innerHTML = `
          <li>
            Artistas
            <span class="badge bg-danger count fs-5" data-number="${totalArtistas}">0</span>
          </li>
          <li>
            Músicas
            <span class="badge bg-danger count fs-5" data-number="${totalMusicas}">0</span>
          </li>
          <li>
            Gêneros
            <span class="badge bg-danger count fs-5" data-number="${totalGeneros}">0</span>
          </li>
    `;
}
